<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chat Cifrado â€“ CÃ©sar / VigenÃ¨re</title>
  <link rel="stylesheet" href="src/styles/styles.css" />
</head>
<body>
  <!-- Modal de selecciÃ³n de cifrado -->
  <div id="cipher-modal" class="modal-backdrop show">
    <div class="modal">
      <h2>Elige el tipo de cifrado</h2>
      <p>PodrÃ¡s cambiarlo luego en la parte superior.</p>
      <div class="modal-actions">
        <button id="choose-caesar" class="primary">CÃ©sar</button>
        <button id="choose-vigenere">VigenÃ¨re</button>
      </div>
    </div>
  </div>

  <div class="card">
    <header class="topbar">
      <div class="left">
        <h1>Chat Cifrado</h1>
        <span id="cipher-badge" class="badge">CÃ©sar</span>
      </div>

      <div class="controls">
        <!-- Campo de clave (numÃ©rico para CÃ©sar / texto para VigenÃ¨re) -->
        <label for="key-input" id="key-label">Clave (K)</label>
        <input id="key-input" type="number" class="key-input" value="3" />

        <!-- Alternar vista -->
        <button id="toggle-view" class="icon-btn" title="Ver cifrado/descifrado">
          ğŸ‘ï¸ <span id="view-state">Cifrado</span>
        </button>

        <!-- Cambiar tipo de cifrado -->
        <div class="select-wrap">
          <select id="cipher-select" title="Tipo de cifrado">
            <option value="caesar">CÃ©sar</option>
            <option value="vigenere">VigenÃ¨re</option>
          </select>
        </div>
      </div>
    </header>

    <!-- Paneles de chat -->
    <div class="chat-grid">
      <!-- Usuario A -->
      <section class="pane">
        <div class="pane-head">
          <div class="dot dot-a"></div>
          <h3>Usuario A</h3>
        </div>
        <ul id="chat-a" class="chat-list"></ul>
        <div class="composer">
          <textarea id="input-a" placeholder="Escribe como Usuario A..."></textarea>
          <button id="send-a" class="primary">Enviar â†’ B</button>
        </div>
      </section>

      <!-- Usuario B -->
      <section class="pane">
        <div class="pane-head">
          <div class="dot dot-b"></div>
          <h3>Usuario B</h3>
        </div>
        <ul id="chat-b" class="chat-list"></ul>
        <div class="composer">
          <textarea id="input-b" placeholder="Escribe como Usuario B..."></textarea>
          <button id="send-b" class="primary">Enviar â†’ A</button>
        </div>
      </section>
    </div>

    <!-- Opciones extra -->
    <div class="footer-controls">
      <label class="toggle">
        <input id="only-letters" type="checkbox" checked />
        Solo letras [Aâ€“Z]
      </label>
      <label class="toggle">
        <input id="preserve-case" type="checkbox" checked />
        Conservar mayÃºsc./minÃºsc.
      </label>
      <span class="hint">
        * Acentos se normalizan (Ãâ†’A, Ã‘â†’N). En VigenÃ¨re, la clave solo considera letras (Aâ€“Z).
      </span>
    </div>
  </div>

  <script type="module" src="src/ui/chat.js"></script>
</body>
</html>
